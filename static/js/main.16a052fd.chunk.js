(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{19:function(e,t,a){e.exports={nav:"Navigation_nav__1hYbH",navlink:"Navigation_navlink__YPEbK"}},21:function(e,t,a){e.exports={section:"LandingPage_section__2jwnh",option:"LandingPage_option__2cYr8",container:"LandingPage_container__1a3Kl"}},22:function(e,t,a){e.exports={form:"Input_form__1Ujyr",h3:"Input_h3__30Ltn",error:"Input_error__3s75n"}},30:function(e,t,a){e.exports={tempDetails:"WeatherData_tempDetails__2r5lD",minMax:"WeatherData_minMax__2vmwk"}},33:function(e,t,a){e.exports={header:"Header_header__k4Zq5"}},37:function(e,t,a){e.exports={dashboard:"DashBoard_dashboard__3l68v"}},45:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),s=a.n(r),o=(a(45),a(46),a(6)),i=a(59),l=a(33),j=a.n(l),d=a(9),u=a(1),b=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)("header",{className:j.a.header,children:[Object(u.jsx)(d.b,{to:"/",style:{textDecoration:"none"},children:Object(u.jsxs)("h1",{children:["Weather",Object(u.jsx)("span",{children:"APP"})]})}),Object(u.jsx)(d.b,{to:"/login",children:Object(u.jsx)(i.a,{variant:"primary",children:"LogIn/Signup"})})]})})},m=a(60),p=a(21),h=a.n(p),x=a.p+"static/media/logo.ed225b2b.png",O=function(){var e=(new Date).getFullYear();return Object(u.jsxs)(m.a,{fluid:!0,className:h.a.container,children:[Object(u.jsxs)("section",{className:h.a.section,children:[Object(u.jsx)("p",{children:" Lorem ipsum dolor sit amet consectetur, adipisicing elit. Debitis quibusdam eum nostrum, rerum et repellendus eligendi vitae eaque quasi tenetur! At perferendis, in saepe dolore molestias et omnis velit quis?"}),Object(u.jsx)("strong",{children:" Get weather details for more than 200,000 cities for FREE!!"})]}),Object(u.jsxs)("article",{className:h.a.option,children:[Object(u.jsx)("p",{children:"Get our app on device of your choice:"}),Object(u.jsx)("img",{src:x,alt:"device logo"})]}),Object(u.jsxs)("footer",{children:[Object(u.jsxs)("section",{children:[Object(u.jsxs)("p",{children:["Copyright \xa9 ",e]}),Object(u.jsxs)("p",{children:["Created by: ",Object(u.jsx)("span",{children:"XYZ org"})]})]}),Object(u.jsxs)("p",{children:["Contact us: ",Object(u.jsx)("a",{href:"mailto:test@test.com",target:"_blank",rel:"noopener noreferrer",children:"test@test.com"})]})]})]})},f=a(8),g=c.a.createContext({token:"",isLogged:!1,login:function(e){},logout:function(){},email:"",name:"",city:"",country:"",customInput:function(e,t){},weatherData:{}}),y=function(e){var t=e.children,a=localStorage.getItem("token"),c=Object(n.useState)(a),r=Object(f.a)(c,2),s=r[0],o=r[1],i=localStorage.getItem("email"),l=Object(n.useState)(i),j=Object(f.a)(l,2),d=j[0],b=j[1],m=localStorage.getItem("name"),p=Object(n.useState)(m),h=Object(f.a)(p,2),x=h[0],O=h[1],y=Object(n.useState)([]),v=Object(f.a)(y,2),w=v[0],_=v[1],N=Object(n.useState)({city:"Loading",counry:"",temp:"",max_temp:"",min_temp:"",description:"Loading",lat:"",lon:"",dt:""}),k=Object(f.a)(N,2),S=k[0],C=k[1],I={token:s,isLogged:!!s,login:function(e,t,a){o(e),localStorage.setItem("token",e),b(t),localStorage.setItem("email",t),O(a),localStorage.setItem("name",a)},logout:function(){o(""),localStorage.removeItem("token"),b(""),localStorage.removeItem("email"),O(""),localStorage.removeItem("name")},email:d,name:x,customInput:function(e){C({city:e.name,country:e.sys.country,temp:e.main.temp,max_temp:e.main.temp_max,min_temp:e.main.temp_min,description:e.weather[0].description,lat:e.coord.lat,lon:e.coord.lon,dt:e.dt})},weatherData:S,hourlyTemp:function(e){_(e)},hourlyData:w};return Object(u.jsx)(g.Provider,{value:I,children:t})},v=g,w=a(19),_=a.n(w),N=function(){var e=Object(n.useContext)(v),t=Object(o.g)();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("nav",{className:_.a.nav,children:[Object(u.jsx)(d.b,{to:"/dashboard",className:_.a.navlink,children:"Home"}),Object(u.jsx)(d.b,{to:"/about",className:_.a.navlink,children:"About us"}),Object(u.jsxs)(d.b,{to:"/profile",className:_.a.navlink,children:[e.name,"'s Profile"]}),Object(u.jsx)(i.a,{variant:"primary",onClick:function(){e.logout(),t.replace("/login")},children:"Logout"})]})})},k=a(38),S=function(){var e,t=Object(n.useContext)(v).hourlyData;t&&(e=t.map((function(e,t){return parseInt(e),{x:t+1,y:e}})),console.log(e));var a={animationEnabled:!0,exportEnabled:!0,theme:"light2",title:{text:"Temperature Difference"},axisY:{title:"Temperature",suffix:"C"},axisX:{title:"temperature difference",prefix:"H",interval:1},data:[{type:"line",toolTipContent:"Hour {x}: {y}C",dataPoints:e}]};return Object(u.jsx)("div",{style:{maxWidth:"45rem",width:"90%",margin:"2rem auto",padding:"1rem"},children:Object(u.jsx)(k.a,{options:a})})},C=a(14),I=a.n(C),P=a(16),D=a(22),L=a.n(D),q=a(61),E=function(){var e=Object(n.useRef)(),t=Object(n.useContext)(v),a=Object(n.useState)(""),c=Object(f.a)(a,2),r=c[0],s=c[1],o="e66873db1caf6c60b3c24a0ed66113dd";return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{className:L.a.h3,children:"Search City:"}),Object(u.jsxs)("form",{className:L.a.form,children:[Object(u.jsx)("input",{type:"text",placeholder:"City",ref:e,required:!0}),Object(u.jsx)("button",{type:"button",onClick:function(a){a.preventDefault();var n=e.current.value;(function(){var e=Object(P.a)(I.a.mark((function e(){var a,c,r,i,l,j,d;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.prev=1,a="https://api.openweathermap.org/data/2.5/weather?q=".concat(n,"&units=metric&appid=").concat(o),e.next=5,fetch(a);case 5:return c=e.sent,e.next=8,c.json();case 8:return r=e.sent,s(""),i="https://api.openweathermap.org/data/2.5/onecall/timemachine?lat=".concat(r.coord.lat,"&lon=").concat(r.coord.lon,"&dt=").concat(r.dt,"&units=metric&appid=").concat(o),e.next=13,fetch(i);case 13:return l=e.sent,e.next=16,l.json();case 16:j=e.sent,t.customInput(r),d=j.hourly.map((function(e){return e.temp})),t.hourlyTemp(d),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),s("Invalid City");case 25:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(){return e.apply(this,arguments)}})()()},children:"Search"})]}),Object(u.jsx)("div",{className:L.a.error,children:r&&Object(u.jsx)(q.a,{variant:"danger",children:r})})]})},T=a(37),J=a.n(T),R=a(30),W=a.n(R),A=function(){var e="e66873db1caf6c60b3c24a0ed66113dd",t=Object(n.useContext)(v),a=function(){var a=Object(P.a)(I.a.mark((function a(n,c){var r,s,o,i,l,j,d;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r="https://api.openweathermap.org/data/2.5/weather?lat=".concat(n,"&lon=").concat(c,"&units=metric&appid=").concat(e),a.next=3,fetch(r);case 3:return s=a.sent,a.next=6,s.json();case 6:return o=a.sent,i="https://api.openweathermap.org/data/2.5/onecall/timemachine?lat=".concat(n,"&lon=").concat(c,"&dt=").concat(o.dt,"&units=metric&appid=").concat(e),a.next=10,fetch(i);case 10:return l=a.sent,a.next=13,l.json();case 13:j=a.sent,t.customInput(o),d=j.hourly.map((function(e){return e.temp})),t.hourlyTemp(d);case 17:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){try{navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){a(e.coords.latitude,e.coords.longitude),console.log("success")}),(function(){a(51.50853,-.12574),console.log("kindly grant access to your current location")})):alert("Geolocation is not supported by this browser")}catch(e){console.log(e)}}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:W.a.tempDetails,children:[Object(u.jsxs)("h2",{children:[t.weatherData.city,",",t.weatherData.country]}),Object(u.jsxs)("h3",{children:[t.weatherData.temp,"\xb0 C"]}),Object(u.jsxs)("div",{className:W.a.minMax,children:[Object(u.jsxs)("h4",{children:["max:",t.weatherData.max_temp,"\xb0 C"]}),Object(u.jsxs)("h4",{children:["min:",t.weatherData.min_temp,"\xb0 C"]})]}),Object(u.jsx)("h5",{children:t.weatherData.description})]})})},B=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(N,{}),Object(u.jsxs)("section",{className:J.a.dashboard,children:[Object(u.jsx)(E,{}),Object(u.jsx)(A,{}),Object(u.jsx)(S,{})]})]})},H=a(63),F=a(62),Y=function(){var e,t=Object(n.useState)(!0),a=Object(f.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),l=Object(f.a)(s,2),j=l[0],b=l[1],m=Object(n.useContext)(v),p=Object(n.useRef)(),h=Object(n.useRef)(),x=Object(n.useRef)(),O=Object(n.useRef)(),g=Object(o.g)(),y=Object(n.useState)(""),w=Object(f.a)(y,2),_=w[0],N=w[1];return Object(u.jsx)(H.a,{style:{maxWidth:"45rem",width:"90%"},className:"mx-auto mt-5",children:Object(u.jsxs)(H.a.Body,{children:[Object(u.jsx)(H.a.Title,{className:"text-center",children:c?"Login":"Signup"}),_&&Object(u.jsx)(q.a,{variant:"danger",children:_}),Object(u.jsxs)(F.a,{onSubmit:function(t){t.preventDefault();var a="",n="",r=x.current.value,s=O.current.value;if(!c&&(a=h.current.value,n=p.current.value,s!==a))return N("Passwords do not match");b(!0),e=c?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBRJJ6gHcpdlbKrj_lWZsJorPQYDH74MAE":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBRJJ6gHcpdlbKrj_lWZsJorPQYDH74MAE",fetch(e,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:r,password:s,returnSecureToken:!0,displayName:n})}).then((function(e){return b(!1),e.ok?e.json():e.json().then((function(e){var t="Authentication Failed";throw e&&e.error&&e.error.message&&(t=e.error.message),console.log(t),new Error(t)}))})).then((function(e){console.log(e.email,e.displayName,"success"),m.login(e.idToken,e.email,e.displayName),g.replace("/dashboard")})).catch((function(e){N(e.message,"error")}))},children:[!c&&Object(u.jsxs)(F.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(u.jsx)(F.a.Label,{children:"Enter Name"}),Object(u.jsx)(F.a.Control,{type:"text",placeholder:"Enter Name",required:!0,ref:p})]}),Object(u.jsxs)(F.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(u.jsx)(F.a.Label,{children:"Email address"}),Object(u.jsx)(F.a.Control,{type:"email",placeholder:"Enter Email",required:!0,ref:x})]}),Object(u.jsxs)(F.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(u.jsx)(F.a.Label,{children:"Password"}),Object(u.jsx)(F.a.Control,{type:"password",placeholder:"password",required:!0,ref:O})]}),!c&&Object(u.jsxs)(F.a.Group,{className:"mb-3",controlId:"formBasicPasswordC",children:[Object(u.jsx)(F.a.Label,{children:"Confirm Password"}),Object(u.jsx)(F.a.Control,{type:"password",placeholder:"confirm password",required:!0,ref:h})]}),Object(u.jsxs)(F.a.Group,{className:"text-center mb-2",children:[j?"Loading...":Object(u.jsx)(i.a,{type:"submit",variant:"primary",disabled:j,children:c?"Login":"Signup"}),undefined]})]}),Object(u.jsxs)("div",{className:c?"d-flex justify-content-around":"d-flex justify-content-center",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(){r((function(e){return!e}))},children:c?"Create a new account":"Login with existing account"}),Object(u.jsx)(d.b,{to:"/forgot-password",children:Object(u.jsx)("button",{type:"button",className:"btn btn-link",children:c?"Forgot Password?":""})})]})]})})},G=function(){var e=Object(n.useRef)(),t=Object(n.useContext)(v),a=Object(o.g)();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(N,{}),Object(u.jsx)(H.a,{style:{maxWidth:"45rem",width:"90%"},className:"mx-auto mt-5",children:Object(u.jsx)(H.a.Body,{children:Object(u.jsxs)(H.a.Title,{className:"text-center",children:["Hi ",t.name,", Update Your Profile"]})})}),Object(u.jsx)(H.a,{style:{maxWidth:"45rem",width:"90%"},className:"mx-auto mt-5 p-2",children:Object(u.jsxs)(H.a.Body,{children:[Object(u.jsxs)(H.a.Title,{className:"text-center",children:["Email:",t.email]}),Object(u.jsxs)(F.a,{children:[Object(u.jsxs)(F.a.Group,{id:"password",children:[Object(u.jsx)(F.a.Label,{children:"Change Password"}),Object(u.jsx)(F.a.Control,{type:"password",placeholder:"Password",required:!0,ref:e})]}),Object(u.jsx)("div",{className:"text-center mt-3",children:Object(u.jsx)(i.a,{variant:"primary",onClick:function(n){n.preventDefault();var c=e.current.value;fetch("https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyBRJJ6gHcpdlbKrj_lWZsJorPQYDH74MAE",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({idToken:t.token,password:c,returnSecureToken:!0})}).then((function(e){return e.json()})).then((function(e){console.log(e.email,"Success"),a.replace("/dashboard")})).catch((function(e){return console.log(e,"error")}))},children:"Change Password"})})]})]})})]})},M=a.p+"static/media/teamWork.b295591d.jpg",K=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(N,{}),Object(u.jsxs)("div",{style:{fontWeight:"bold"},children:[Object(u.jsx)("p",{className:"p-5 text-center",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Impedit mollitia aliquid quis repellat explicabo, consequatur reiciendis exercitationem in voluptas odit ratione obcaecati rem, officia tempore aut a quidem repellendus! Accusantium."}),Object(u.jsx)("p",{className:"p-5 text-center ",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Impedit mollitia aliquid quis repellat explicabo, consequatur reiciendis exercitationem in voluptas odit ratione obcaecati rem, officia tempore aut a quidem repellendus! Accusantium."})]}),Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("img",{src:M,alt:"work",height:"200rem"})})]})},Z=a(23),z=a(39),Q=["component"],U=function(e){var t=e.component,a=Object(z.a)(e,Q),c=Object(n.useContext)(v);return Object(u.jsx)(o.b,Object(Z.a)(Object(Z.a)({},a),{},{render:function(e){return c.isLogged?Object(u.jsx)(t,Object(Z.a)({},e)):Object(u.jsx)(o.a,{to:"/login"})}}))},X=function(){var e=Object(n.useRef)(),t=Object(n.useState)(""),a=Object(f.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),o=Object(f.a)(s,2),l=o[0],j=o[1],d=Object(n.useState)(!1),b=Object(f.a)(d,2),m=b[0],p=b[1];function h(){return(h=Object(P.a)(I.a.mark((function t(a){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,r(""),j(""),p(!0),t.next=7,fetch("https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=AIzaSyBRJJ6gHcpdlbKrj_lWZsJorPQYDH74MAE",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({requestType:"PASSWORD_RESET",email:e.current.value})});case 7:r("check your inbox for further instructions"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),j("Failed to reset the password");case 14:p(!1);case 15:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(H.a,{style:{maxWidth:"45rem",width:"90%"},className:"mx-auto mt-5",children:Object(u.jsxs)(H.a.Body,{children:[Object(u.jsx)("h2",{className:"text-center mb-4",children:"Reset Password"}),l&&Object(u.jsx)(q.a,{variant:"danger",children:l}),c&&Object(u.jsx)(q.a,{variant:"success",children:c}),Object(u.jsxs)(F.a,{onSubmit:function(e){return h.apply(this,arguments)},children:[Object(u.jsxs)(F.a.Group,{id:"email",children:[Object(u.jsx)(F.a.Label,{children:"Email"}),Object(u.jsx)(F.a.Control,{type:"email",required:!0,ref:e})]}),Object(u.jsx)(i.a,{disabled:m,type:"submit",variant:"primary",className:"w-100 mt-4",children:"Reset Password"})]})]})})})};var V=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(o.d,{children:[Object(u.jsxs)(o.b,{path:"/",exact:!0,children:[Object(u.jsx)(b,{}),Object(u.jsx)(O,{})]}),Object(u.jsxs)(o.b,{path:"/login",children:[Object(u.jsx)(b,{}),Object(u.jsx)(Y,{})]}),Object(u.jsxs)(o.b,{path:"/forgot-password",children:[Object(u.jsx)(b,{}),Object(u.jsx)(X,{})]}),Object(u.jsx)(U,{path:"/dashboard",component:B}),Object(u.jsx)(U,{path:"/profile",component:G}),Object(u.jsx)(U,{path:"/about",component:K}),Object(u.jsx)(o.b,{path:"*",children:Object(u.jsx)(o.a,{to:"/"})})]})})};s.a.render(Object(u.jsx)(y,{children:Object(u.jsx)(d.a,{children:Object(u.jsx)(V,{})})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.16a052fd.chunk.js.map